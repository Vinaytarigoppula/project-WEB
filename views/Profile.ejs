
<!-- Profile.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Billing Application - Profile</title>
  <link rel="stylesheet" href="/static/profile.css">
</head>
<body>
  <div class="nav-container">
    <div class="navbar">
      <span class="nav-title">Profile Page</span>
      <% if (readonly) { %>
          <div class="nav-buttons">
        <button onclick="location.href='/index'">Home</button>
      </div>
        <% }  %>
      
    </div>
  </div>

  <div class="container">
    <!-- Left Panel -->
    <div class="left-panel">
      <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Account Icon" class="account-icon" />
      <h2 class="account-name"><%= username %></h2>
    </div>

    <!-- Right Panel (Form) -->
    <div class="right-panel">
      <form id="profileForm" method="post" action="/shopData">
        <label for="shopName">Shop Name:</label>
        <input type="text" id="shopName" name="shopName" value="<%= profile.shop_name || '' %>" <%= readonly ? 'readonly' : '' %> required />

        <label for="shopAddress">Shop Address:</label>
        <input type="text" id="shopAddress" name="shopAddress" value="<%= profile.shop_address || '' %>" <%= readonly ? 'readonly' : '' %> required />

        <label for="gstin">GSTIN:</label>
        <input type="text" id="gstin" name="gstin" value="<%= profile.gstin || '' %>" <%= readonly ? 'readonly' : '' %> required />

        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" value="<%= profile.phone || '' %>" <%= readonly ? 'readonly' : '' %> required pattern="[0-9]{10}" />

        <% if (!readonly) { %>
          <button type="submit">Continue</button>
        <% } else { %>
          <p style="color: gray;">Profile is locked after first submission.</p>
        <% } %>
      </form>
    </div>
  </div>
</body>
</html>